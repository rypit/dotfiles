#!/bin/bash
set -e

DIR="$(cd "$(dirname "$0")/../" && pwd)"

# Use .bash_profile from dotfiles
install_bash_profile() {
  BASH_PROFILE="$HOME/.bash_profile"
  echo "üîó Linking up .bash_profile..."
  ln -sf "$DIR"/.bash_profile "$BASH_PROFILE"
}

# Use .gitignore_global from dotfiles
install_gitignore() {
  echo "üîó Linking up .gitignore_global..."
  ln -sf "$DIR"/.gitignore_global ~/.gitignore_global
  git config --global core.excludesfile ~/.gitignore_global
}

# Use .gitignore_global from dotfiles
install_bash_it() {
  echo "üêö Installing bash-it"
  BASH_IT=${BASH_IT:-"$HOME/.bash_it"}
  if [ ! -d "$BASH_IT" ] ; then
    git clone --quiet --depth=1 https://github.com/Bash-it/bash-it.git "$BASH_IT"
  fi
}

# Do the things...
install_bash_profile
install_gitignore
install_bash_it

echo "ü§ô Looks like we're good to go! Open a new shell!"
