#!/bin/bash
set -e

if [ "$1" == "--debug" ]; then
  set -x
fi

DIR="$(cd "$(dirname "$0")/../" && pwd)"

# Use .bash_profile from dotfiles
install_bash_profile() {
  BASH_PROFILE="$HOME/.bash_profile"
  echo "ğŸ‘¨ğŸ»â€ğŸ’» Installing .bash_profile..."
  ln -sf "$DIR"/.bash_profile "$BASH_PROFILE"
}

# Use .gitignore_global from dotfiles
install_gitignore() {
  echo "ğŸ™ˆ Installing .gitignore_global..."
  ln -sf "$DIR"/.gitignore_global ~/.gitignore_global
  git config --global core.excludesfile ~/.gitignore_global
}

# Use .gitignore_global from dotfiles
install_bash_it() {
  echo "ğŸš Installing bash-it"
  BASH_IT="$HOME/.bash-it"
  if [ ! -d "$BASH_IT" ] ; then
    git clone --quiet --depth=1 https://github.com/Bash-it/bash-it.git "$BASH_IT"
  fi
}

# Do the things...
install_bash_profile
install_gitignore
install_bash_it

echo "ğŸ¤™ Looks like we're good to go! Open a new shell!"
